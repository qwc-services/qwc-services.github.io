<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>QWC2 upgrade notes - QWC2 - 2024.01.15-master</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../../css/custom.css" rel="stylesheet" />
        <link href="../../css/version-select.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "QWC2 upgrade notes";
        var mkdocs_page_input_path = "release_notes/QWC2UpgradeNotes.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> QWC2 - 2024.01.15-master
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">QWC2</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../QuickStart/">Quick start</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">General configuration</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../configuration/ThemesConfiguration/">Themes</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../configuration/ViewerConfiguration/">Viewer</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../configuration/ResourcesPermissions/">Resources and permissions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../configuration/ServiceConfiguration/">Services</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Selected topics</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../topics/Search/">Search</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../topics/FeatureInfo/">Feature info</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../topics/Printing/">Printing</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../topics/Mapinfo/">Map info</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../topics/Editing/">Editing</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../topics/Snapping/">Snapping</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../topics/TimeManager/">Temporal layers</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../topics/LegendGraphics/">Legend graphics</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../topics/Interfacing/">Interfacing with applications</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../topics/MultiTenancy/">Multi-tenancy</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../references/">References</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Version history</a>
    <ul class="current">
                <li class="toctree-l2 current"><a class="reference internal current" href="./">QWC2 upgrade notes</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#update-to-qwc2-submodule-revision-38b242a-01112023">Update to qwc2 submodule revision 38b242a (01.11.2023)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#update-to-qwc2-submodule-revision-7409372-23082023">Update to qwc2 submodule revision 7409372 (23.08.2023)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#update-to-qwc2-submodule-revision-96aaa51-09022023">Update to qwc2 submodule revision 96aaa51 (09.02.2023)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#update-to-qwc2-submodule-revision-7a474e3-23012023">Update to qwc2 submodule revision 7a474e3 (23.01.2023)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#update-to-qwc2-submodule-revision-fe063b6-13012023">Update to qwc2 submodule revision fe063b6 (13.01.2023)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#update-to-qwc2-submodule-revision-90c613a-28112022">Update to qwc2 submodule revision 90c613a (28.11.2022)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#update-to-qwc2-submodule-revision-e357152-27062022">Update to qwc2 submodule revision e357152 (27.06.2022)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#update-to-qwc2-submodule-revision-76ec566-17062022">Update to qwc2 submodule revision 76ec566 (17.06.2022)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#update-to-qwc2-submodule-revision-7929587-21042022">Update to qwc2 submodule revision 7929587 (21.04.2022)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#update-to-qwc2-submodule-revision-eb5e358-25102021">Update to qwc2 submodule revision eb5e358 (25.10.2021)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#update-to-qwc2-submodule-revision-e08aed5-18052021">Update to qwc2 submodule revision e08aed5 (18.05.2021)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#update-to-qwc2-submodule-revision-317eea3-03012021">Update to qwc2 submodule revision 317eea3 (03.01.2021)</a>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../QwcDockerUpgradeNotes/">qwc-docker upgrade notes</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../UserGuide/">User guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../FAQ/">FAQ</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">QWC2 - 2024.01.15-master</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>QWC2 &raquo;</li>
          <li>Version history &raquo;</li>
      <li>QWC2 upgrade notes</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="upgrade-notes">Upgrade notes<a class="headerlink" href="#upgrade-notes" title="Permanent link">&para;</a></h1>
<p>This document describes incompatibilites and other aspects which QWC2 applications need to address when updating against the latest qwc2 submodule.</p>
<p>When updating the <code>qwc2</code> submodule, run <code>yarn install</code> to ensure the dependencies are up to date!</p>
<h2 id="update-to-qwc2-submodule-revision-38b242a-01112023">Update to qwc2 submodule revision <a href="https://github.com/qgis/qwc2/tree/38b242a">38b242a</a> (01.11.2023)<a class="headerlink" href="#update-to-qwc2-submodule-revision-38b242a-01112023" title="Permanent link">&para;</a></h2>
<p><strong>Import svg as inline assets</strong></p>
<p><code>qwc2/utils/FeatureStyles.js</code> now imports some SVG files as inline assets. For this to work, you need to list <code>.svg</code> in the <code>assets/inline</code> loader rules in <code>webpack.config.js</code>:</p>
<pre><code>{
    test: /(.woff|.woff2|.png|.jpg|.gif|.svg)/,
    type: 'asset/inline'
}
</code></pre>
<p><strong>Babel plugin changes</strong></p>
<p>The <code>class-properties</code> and <code>object-rest-spread</code> proposals have been merged to the ECMAScript standard, and the respective babel plugins in <code>.babelrc.json</code> need to be changed to</p>
<pre><code>"plugins": [
    "@babel/plugin-transform-class-properties",
    "@babel/plugin-transform-object-rest-spread"
]
</code></pre>
<h2 id="update-to-qwc2-submodule-revision-7409372-23082023">Update to qwc2 submodule revision <a href="https://github.com/qgis/qwc2/tree/7409372">7409372</a> (23.08.2023)<a class="headerlink" href="#update-to-qwc2-submodule-revision-7409372-23082023" title="Permanent link">&para;</a></h2>
<p><strong>MapInfoToolTip plugin instantation change</strong></p>
<ul>
<li>The instantation of the <code>MapInfoToolTip</code> in <code>appConfig.js</code> needs to be changed to<pre><code>MapInfoTooltipPlugin: MapInfoTooltipPlugin()
</code></pre>
</li>
</ul>
<p>Note the extra braces at the end. As a new feature, you can pass a list of <a href="/references/qwc2_plugins/#mapinfotooltip">plugins</a> to the <code>MapInfoTooltipPlugin</code>.</p>
<p><strong>Configuration changes</strong></p>
<ul>
<li>The window size configuration of various plugins has been uniformized to the <code>geometry</code> config prop (rather than occasionally <code>windowSize</code> before). Affected plugins are: <code>FeatureForm</code>, <code>Identify</code>, <code>LayerCatalog</code>, <code>LayerTree</code>, <code>MapLegend</code>. Please check the respective <a href="/references/qwc2_plugins/">plugin reference</a> for more details on the new format.</li>
</ul>
<h2 id="update-to-qwc2-submodule-revision-96aaa51-09022023">Update to qwc2 submodule revision <a href="https://github.com/qgis/qwc2/tree/96aaa51">96aaa51</a> (09.02.2023)<a class="headerlink" href="#update-to-qwc2-submodule-revision-96aaa51-09022023" title="Permanent link">&para;</a></h2>
<p><strong>Config setting change</strong></p>
<ul>
<li>Geodesic measurement mode is now configured at toplevel in <code>config.json</code> via <code>geodesicMeasurements: true|false</code> rather than below <code>Map -&gt; cfg -&gt; toolsOptions -&gt; MeasurementSupport</code>.</li>
</ul>
<h2 id="update-to-qwc2-submodule-revision-7a474e3-23012023">Update to qwc2 submodule revision <a href="https://github.com/qgis/qwc2/tree/7a474e3">7a474e3</a> (23.01.2023)<a class="headerlink" href="#update-to-qwc2-submodule-revision-7a474e3-23012023" title="Permanent link">&para;</a></h2>
<p><strong>Dependency update</strong></p>
<p>Most dependencies have been updated to the latest version. The following adjustments need to be performed by hand:</p>
<ul>
<li>Use <code>createRoot</code> in <code>app.jsx</code>, see the <a href="https://github.com/qgis/qwc2-demo-app/blob/1ec0a2ba614ddfb2bc30ab0d3db083fbcc5da524/js/app.jsx">demo <code>app.jsx</code></a>.</li>
<li>Update <code>uuid</code> imports in external components, examples:<pre><code>import {v1 as uuidv1} from 'uuid';
import {v4 as uuidv4} from 'uuid';
</code></pre>
</li>
</ul>
<p>and then instead of <code>uuid.v1()</code> use <code>uuidv1()</code> etc.</p>
<ul>
<li>Adjust <code>webpack.config.js</code> from</li>
</ul>
<pre><code>      {
        test: /\.mjs$/,
        type: 'javascript/auto'
      }
</code></pre>
<p>to</p>
<pre><code>      {
        test: /(.mjs|.js)$/,
        type: 'javascript/auto'
      }
</code></pre>
<h2 id="update-to-qwc2-submodule-revision-fe063b6-13012023">Update to qwc2 submodule revision <a href="https://github.com/qgis/qwc2/tree/fe063b6">fe063b6</a> (13.01.2023)<a class="headerlink" href="#update-to-qwc2-submodule-revision-fe063b6-13012023" title="Permanent link">&para;</a></h2>
<p><strong>Reworked search provider support</strong></p>
<p>The arguments and expected behaviour of the provider <code>onSearch</code> and <code>getResultGeometry</code> have changed. Please refer to the documentation chapter in the <a href="https://github.com/qgis/qwc2-demo-app/blob/master/doc/src/qwc_configuration.md#search-providers">Documentation</a>. Consult <a href="https://github.com/qgis/qwc2-demo-app/blob/master/js/SearchProviders.js">js/SearchProviders.js</a> and <a href="https://github.com/qgis/qwc2-demo-app/blob/master/static/assets/searchProviders.js">static/assets/searchProviders.js</a> for full examples.</p>
<p>It is now possible to define search providers in a external JS file loaded at runtime rather than compiled into the application bundle. See <a href="https://github.com/qgis/qwc2-demo-app/blob/master/static/assets/searchProviders.js">static/assets/searchProviders.js</a>, which is loaded by <a href="https://github.com/qgis/qwc2-demo-app/blob/master/index.html">index.html</a>.</p>
<p><code>js/SearchProviders.js</code> now only includes <code>coordinates</code> and <code>nominatim</code> as built-in search providers for the demo application.</p>
<p>The <code>searchProviderFactory</code> function has been removed from <code>js/SearchProviders.js</code>. Instead, custom parameters to be passed to a provider can be specified directly in the theme item <code>searchProviders</code> entry:</p>
<pre><code>{
  key: "&lt;providerkey2&gt;",
  params: {...}
}
</code></pre>
<p>and read from <code>searchParams.cfgParams</code> in the provider <code>onSearch</code> function.</p>
<p><strong>Load Help dialog contents from HTML fragment</strong></p>
<p>Instead of requiring users to implement the <code>renderHelp</code> function in <code>js/Help.jsx</code>, for simple cases the users can provide a plain HTML fragment which is loaded at runtime from the assets. Consult the <a href="https://github.com/qgis/qwc2-demo-app/blob/master/doc/src/qwc_configuration.md#help-dialog">Documentation</a>.</p>
<h2 id="update-to-qwc2-submodule-revision-90c613a-28112022">Update to qwc2 submodule revision <a href="https://github.com/qgis/qwc2/tree/90c613a">90c613a</a> (28.11.2022)<a class="headerlink" href="#update-to-qwc2-submodule-revision-90c613a-28112022" title="Permanent link">&para;</a></h2>
<p><strong>Reworked color scheme support</strong></p>
<p>The <code>styleConfig.js</code> file is deprecated and won't be honoured anymore for the styling of core QWC2 components. Instead, base theme colors can be defined via CSS, refer to <a href="https://github.com/qgis/qwc2-demo-app/blob/master/doc/src/qwc_configuration.md#color-schemes">documentation</a> for details.</p>
<p><strong>Renamed config variable</strong>
The <code>maxGetUrlLength</code> variable in <code>config.json</code> has been renamed to <code>wmsMaxGetUrlLength</code>.</p>
<h2 id="update-to-qwc2-submodule-revision-e357152-27062022">Update to qwc2 submodule revision <a href="https://github.com/qgis/qwc2/tree/e357152">e357152</a> (27.06.2022)<a class="headerlink" href="#update-to-qwc2-submodule-revision-e357152-27062022" title="Permanent link">&para;</a></h2>
<p><strong>Reworked interface for handling 1:N relations between qwc2 and qwc-data-service</strong></p>
<p>The interface for reading and writing 1:n relations between the qwc2 and the qwc-data-service was reworked. If you are using the qwc-data-service, make sure to update to qwc-data-service-v2022.06.27 or later when updating to qwc2 submodule revision <a href="https://github.com/qgis/qwc2/tree/e357152">e357152</a> or later.</p>
<h2 id="update-to-qwc2-submodule-revision-76ec566-17062022">Update to qwc2 submodule revision <a href="https://github.com/qgis/qwc2/tree/76ec566">76ec566</a> (17.06.2022)<a class="headerlink" href="#update-to-qwc2-submodule-revision-76ec566-17062022" title="Permanent link">&para;</a></h2>
<p><strong>Refactoring of editing components</strong></p>
<p>The editing components have been heavily refactored internally. The changes are mostly transparent, but two points are important:</p>
<ul>
<li>The <code>editDataset</code> field of an <code>editConfig</code> entry is now mandatory. <code>editConfig</code>s generated by qwc-config-generator already write this field, so this applies only to manually written <code>editConfig</code>s for use outside of qwc-services.</li>
<li>The <code>changeEditingState</code> action has been replaced by <code>setEditContext</code> (and <code>clearEditContext</code>). This allows for storing and switching between multiple edit contexts in the application state. Custom components interacting with editing also should be changed to verify that the current edit context is the desired one.</li>
</ul>
<h2 id="update-to-qwc2-submodule-revision-7929587-21042022">Update to qwc2 submodule revision <a href="https://github.com/qgis/qwc2/tree/7929587">7929587</a> (21.04.2022)<a class="headerlink" href="#update-to-qwc2-submodule-revision-7929587-21042022" title="Permanent link">&para;</a></h2>
<p><strong>Format change for external layer resource strings</strong></p>
<p>For a short period of time (after submodule revision <a href="https://github.com/qgis/qwc2/tree/cb870a1">cb870a1</a>), QWC2 supported external resource strings in the form <code>wms:&lt;service_url&gt;#&lt;layername&gt;?&lt;options&gt;</code>. The format has been changed to</p>
<pre><code>wms:&lt;service_url&gt;?&lt;options&gt;#&lt;layername&gt;
</code></pre>
<p>i.e. by moving the query portion before the hash portion, which is inline with the URL scheme format.</p>
<h2 id="update-to-qwc2-submodule-revision-eb5e358-25102021">Update to qwc2 submodule revision <a href="https://github.com/qgis/qwc2/tree/eb5e358">eb5e358</a> (25.10.2021)<a class="headerlink" href="#update-to-qwc2-submodule-revision-eb5e358-25102021" title="Permanent link">&para;</a></h2>
<p><strong>Update to Webpack 5, React 17</strong></p>
<ul>
<li>Synchronize the <code>webpack.config.js</code> and the dependencies and package scripts from the demo app <code>package.json</code>. Note that the <code>build</code> package script is now an alias with the <code>prod</code> script.</li>
<li>Remove the <code>dist/App.js</code> script include from <code>index.html</code>, it is now added automatically by Webpack.</li>
<li>All static files of the app need to be placed below a toplevel <code>static</code> folder, which will contain <code>assets</code>, <code>translations</code>, <code>config.json</code>, <code>themes.json</code>, etc. The <code>themesConfig</code> script will write <code>themes.json</code> to that folder.</li>
<li>
<p>In custom components, replace any use of <code>Swipeable</code> from <code>react-swipeable</code>:</p>
<ul>
<li>import {Swipeable} from 'react-swipeable';</li>
<li>import {Swipeable} from 'qwc2/components/Swipeable';</li>
</ul>
</li>
</ul>
<h2 id="update-to-qwc2-submodule-revision-e08aed5-18052021">Update to qwc2 submodule revision <a href="https://github.com/qgis/qwc2/tree/e08aed5">e08aed5</a> (18.05.2021)<a class="headerlink" href="#update-to-qwc2-submodule-revision-e08aed5-18052021" title="Permanent link">&para;</a></h2>
<p><strong>Reworked Identify plugin</strong></p>
<p>The Identify plugin has been completely reworked, and the IdentifyRegion plugin has been merged into the Identify plugin:</p>
<ul>
<li>Remove the IdentifyRegion plugin from <code>js/appConfig.js</code> and <code>config.json</code></li>
<li>
<p>Create menu/toolbar entries in config.json for the region identify tool mode by specifying <code>"mode": "Region"</code>, i.e.:</p>
<p>{"key": "Identify", "icon": "identify_region", "mode": "Region"},</p>
</li>
<li>
<p>The translation message id <code>identifyregion.info</code> has been changed to <code>infotool.clickhelpPolygon</code> (unless the string is overridden, <code>yarn run tsupdate</code> will take care of this automatically).</p>
</li>
<li><em>Note</em>: The identify tool state is now handled internally by the Identify component, it does not store the results in the global application state anymore.</li>
</ul>
<h2 id="update-to-qwc2-submodule-revision-317eea3-03012021">Update to qwc2 submodule revision <a href="https://github.com/qgis/qwc2/tree/317eea3">317eea3</a> (03.01.2021)<a class="headerlink" href="#update-to-qwc2-submodule-revision-317eea3-03012021" title="Permanent link">&para;</a></h2>
<p><strong>Updated dependencies</strong></p>
<p>Many dependencies in the <code>qwc2</code> submodule have been update, please run <code>yarn install</code> to update them in your application.</p>
<p>In the demo app, also many dependencies in the application <code>package.json</code> have been updated.
It's recommended to synchronize the application <code>package.json</code> and <code>webpack.config.js</code> with the ones of the demo app.</p>
<p><strong>Plugins do not need to specify the reducers they use anymore</strong></p>
<p>Action files register now the reducers they use automatically, so whenever a symbol is imported from an action file, the respective reducer is automatically enabled.</p>
<p>If you have a custom action/reducer file outside the <code>qwc2</code> submodule folder (i.e. <code>js/{actions,reducers}/myfunctionality.js</code>), you should add lines similar to</p>
<pre><code>import ReducerIndex from 'qwc2/reducers/index';
import myfunctionalityReducer from '/reducers/myfunctionality';
ReducerIndex.register("myfunctionality", myfunctionalityReducer);
</code></pre>
<p>to <code>js/actions/myfunctionality.js</code>.</p>
<p>If you have custom QWC2 plugins, remove the <code>reducers</code> field of the plugin export.</p>
<p><strong>ES6 imports</strong></p>
<p>QWC2 now uses the ES6 import/export syntax throughout. For instance</p>
<pre><code>const Icon = require('qwc2/components/Icon');
const {addLayer} = require('qwc2/actions/layers');
</code></pre>
<p>become</p>
<pre><code>import Icon from 'qwc2/components/Icon';
import {addLayer} from 'qwc2/actions/layers';
</code></pre>
<p>And</p>
<pre><code>module.exports = MyClass;
</code></pre>
<p>becomes</p>
<pre><code>export default MyClass;
</code></pre>
<p>resp.</p>
<pre><code>function foo() {...};
function bar() {...};
module.exports = {foo, bar};
</code></pre>
<p>becomes</p>
<pre><code>export function foo() {...};
export function bar() {...};
</code></pre>
<p>In particular, <code>js/appConfig.js</code> needs to be heavily adapted.</p>
<p><strong>Update to React 16.14</strong></p>
<p>As per React 16.3, various component lifecycle methods have been deprecated.
All qwc2 core components are updated to avoid their use. Custom components should also be updated.
See <a href="https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html">https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html</a> for details.</p>
<p><strong>Reworked localization</strong></p>
<p>Localization in QWC2 has been reworked:
- Instead of <code>&lt;Message msgId="&lt;msgid&gt;" /&gt;</code> and <code>LocaleUtils.getMessageById()</code>, use <code>LocaleUtils.tr(&lt;msgid&gt;)</code>.
- For message IDs which are not translated directly via <code>LocaleUtils.tr</code>, use <code>LocaleUtils.trmsg</code> to mark the string as a message ID.
- The <code>Message</code> component has been dropped.
- Static message IDs are now picked up automatically by <code>updateTranslations.js</code> (invoked by <code>yarn run tsupdate</code>).
- Message IDs built at runtime will beed to be specified manually in <code>tsconfig.json</code> in the <code>extra_strings</code> section.
- The translation files are now called <code>translations/&lt;lang&gt;-&lt;COUNTRY&gt;.json</code> rather than <code>translations/data.&lt;lang&gt;-&lt;COUNTRY&gt;</code>. The format of the files remains unchanged.
- The <code>supportedLocales</code> section in <code>appConfig.js</code> needs to be dropped.
- Previously, the fallback locale was specified as <code>fallbacklocale</code> in config.json. Now, it must be specified as <code>defaultLocaleData</code> in <code>appConfig.js</code>.</p>
<p><strong>Default editing interface now shipped in the qwc2 submodule</strong></p>
<p>The <code>js/EditingInterface.js</code> in the demo app has been moved to <code>qwc2/utils/EditingInterface.js</code>.
This is the interface which acts as a counterpart to the <a href="https://github.com/qwc-services/qwc-data-service">QWC data service</a>.
If you want to use a custom editing interface, you can still do so, passing it to the <code>Editing</code> plugin in <code>appConfig.js</code> as before.</p>
<p><strong>Assets and translations path now optional</strong></p>
<p>Assets and translations path can now be omitted from the <code>config.json</code>, and are resolved to <code>assets</code> resp <code>translations</code> relative to the <code>index.html</code> path of the QWC2 application by default.</p>
<p>Use <code>ConfigUtils.getAssetsPath()</code> and <code>ConfigUtils.getTranslationsPath()</code> in your custom components instead of <code>ConfigUtils.getConfigProp</code>.</p>
<p>You can still specify <code>assetsPath</code> and <code>translationsPath</code> in <code>config.json</code> to override the default values.</p>
<p><strong>Changes to map click point/feature state</strong></p>
<p>The previous <code>state.map.clickPoint</code> and <code>state.map.clickFeature</code> have been merged to a single <code>state.map.click</code>. The <code>clickFeatureOnMap</code> action has been removed.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../references/" class="btn btn-neutral float-left" title="References"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../QwcDockerUpgradeNotes/" class="btn btn-neutral float-right" title="qwc-docker upgrade notes">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../../references/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../QwcDockerUpgradeNotes/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
      <script src="../../js/version-select.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
