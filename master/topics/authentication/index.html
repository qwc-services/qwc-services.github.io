<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Authentication - QWC - 2026.02.17</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../../css/custom.css" rel="stylesheet" />
        <link href="../../css/version-select.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Authentication";
        var mkdocs_page_input_path = "topics/authentication.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> QWC - 2026.02.17
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">QWC</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../QuickStart/">Quick start</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">General configuration</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../configuration/ThemesConfiguration/">Themes</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../configuration/ViewerConfiguration/">Viewer</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../configuration/ResourcesPermissions/">Resources and permissions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../configuration/ServiceConfiguration/">Services</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Selected topics</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../Search/">Search</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../FeatureInfo/">Feature info</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Printing/">Printing</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../MapExport/">Map export</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Mapinfo/">Map info</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Editing/">Editing</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Snapping/">Snapping</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../TimeManager/">Temporal layers</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Tourguide/">Tour Guide</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../LegendGraphics/">Legend graphics</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../MapFilter/">Map filtering</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Reports/">Reports</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../View3D/">3D View</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../ObliqueView/">Oblique View</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Translations/">Translations</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="./">Authentication</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#authentication-service">Authentication Service</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#access-management">Access management</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#artifacts">Artifacts</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#jwt-token">JWT token</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#permissionsjson">permissions.json</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#iam-example">IAM example</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#map-viewer">Map Viewer</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#authentication-service_1">Authentication Service</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#data-service">Data Service</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Interfacing/">Interfacing with applications</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../MultiTenancy/">Multi-tenancy</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../references/">References</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Version history</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../release_notes/ChangeLog/">ChangeLog</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../release_notes/QWC2UpgradeNotes/">QWC2 upgrade notes</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../release_notes/QwcDockerUpgradeNotes/">qwc-docker upgrade notes</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../UserGuide/">User guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../FAQ/">FAQ</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">QWC - 2026.02.17</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>QWC &raquo;</li>
          <li>Selected topics &raquo;</li>
      <li>Authentication</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="authentication">Authentication<a class="headerlink" href="#authentication" title="Permanent link">&para;</a></h1>
<h2 id="authentication-service">Authentication Service<a class="headerlink" href="#authentication-service" title="Permanent link">&para;</a></h2>
<p>An authentication service uses a specific user identity store (e.g. DB, LDAP) or interacts with an Identity Provider (IdP) to confirm the user's identity. The service issues the JWT token, signs the token with a JWT secret key and transfers it to the web client.</p>
<p>QWC provides several authentication services:</p>
<ul>
<li><a href="../../references/qwc-db-auth_readme/">Database Authentication Service</a>: Authenticates users against a database.</li>
<li><a href="../../references/qwc-ldap-auth_readme/">LDAP Authentication Service</a>: Authenticates users against an LDAP server.</li>
<li><a href="../../references/qwc-oidc-auth_readme/">OpenID Connect Authentication Service</a>: Authenticates users against OIDC providers like Keycloak, AD, etc.</li>
</ul>
<h3 id="access-management">Access management<a class="headerlink" href="#access-management" title="Permanent link">&para;</a></h3>
<p>qwc-services-core library:</p>
<ul>
<li>Verifies the signature of the JWT token with the JTW secret key</li>
<li>Ensures that the JWT token has not expired</li>
<li>Extract permissions of a user from <code>permissions.json</code></li>
</ul>
<p>QWC Service:</p>
<ul>
<li>Uses <code>qwc-services-core</code> to read the permissions of the current user</li>
<li>Handles user permissions for certain resources (maps, layers, etc.)</li>
</ul>
<h2 id="artifacts">Artifacts<a class="headerlink" href="#artifacts" title="Permanent link">&para;</a></h2>
<h3 id="jwt-token">JWT token<a class="headerlink" href="#jwt-token" title="Permanent link">&para;</a></h3>
<p>Token with a common structure between different authentication services, which contains the user name of the user logged in to the IDP.</p>
<p>The JWT token is usually transferred as part of the session cookie.</p>
<h3 id="permissionsjson">permissions.json<a class="headerlink" href="#permissionsjson" title="Permanent link">&para;</a></h3>
<p>Contains information about which users have read and write access to which layers.</p>
<h2 id="iam-example">IAM example<a class="headerlink" href="#iam-example" title="Permanent link">&para;</a></h2>
<p><img alt="diagram.svg" src="../../images/iam-diagram.svg" /></p>
<p>Using the example of the Map Viewer, the Data Service, and the Authentication Services, the diagram explains how identity and access management works in conjunction with the various components of the QWC.</p>
<h3 id="map-viewer">Map Viewer<a class="headerlink" href="#map-viewer" title="Permanent link">&para;</a></h3>
<p>Web GIS component running in the browser. Retrieves an JWT token from the Authentication Service for the user and then uses it when communicating with the Data Service. Retrieves a new token when the currently used token expires.</p>
<p>Oauth2 role: Client</p>
<h3 id="authentication-service_1">Authentication Service<a class="headerlink" href="#authentication-service_1" title="Permanent link">&para;</a></h3>
<p>Issues the singed JWT token and returns it to the Map Viewer.</p>
<p>Oauth2 role: Authorization Server (authentication part).</p>
<p>Of the two tasks of authentication and authorization performed by an authorization server, the AS performs only authentication.</p>
<h3 id="data-service">Data Service<a class="headerlink" href="#data-service" title="Permanent link">&para;</a></h3>
<ul>
<li>Uses <code>qwc-services-core</code> to read the permissions of the current user.</li>
<li>Checks whether access to the layer is permitted for the user ID in the JWT token.</li>
<li>Then accesses the layer in read/write mode.</li>
</ul>
<p>Oauth2 role: Resource server</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../Translations/" class="btn btn-neutral float-left" title="Translations"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../Interfacing/" class="btn btn-neutral float-right" title="Interfacing with applications">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../Translations/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../Interfacing/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../js/extend-search.js" defer></script>
      <script src="../../search/main.js" defer></script>
      <script src="../../js/version-select.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
